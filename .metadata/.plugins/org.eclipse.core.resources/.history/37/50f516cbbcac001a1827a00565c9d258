package com.mvc.jigulyeog.controller;

import javax.servlet.http.HttpSession;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;

import com.mvc.jigulyeog.model.dto.MakeDMKey;
import com.mvc.jigulyeog.model.dto.UserDto;

@Controller
public class MainController {
	private static final Logger logger = LoggerFactory.getLogger(MainController.class);
	
	@RequestMapping("index.do")
	public String startIndexPage() {
		logger.info("[start index page]");
		String id1 = "jihye";
		String id2 = "solzy";
		
		MakeDMKey key = new MakeDMKey(id1, id2);
		logger.info(key.getDm_key());
		
		MakeDMKey key2 = new MakeDMKey(id2, id1);
		logger.info(key2.getDm_key());
		
		return "index";
	}
	
	@RequestMapping("login.do")
	public String testLogin(HttpSession session) {
		logger.info("[temporary LOGIN]");
		//UserDto user = new UserDto("ORG01","1111","(사)무지개세상","장승진","01012341234","서울특별시 서초구 매헌로 54 (양재동)","",1);
		//UserDto user = new UserDto("TEST","TEST","TEST","TEST","01012341234","주소","",0);
		UserDto user = new UserDto("TEST","TEST","TEST","TEST","01012341234","주소","",0);
		session.setAttribute("user", user);
		
		return "redirect:index.do";
	}
}
