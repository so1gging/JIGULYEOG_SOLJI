<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mapper.project">
	
	<!-- write -->
	<insert id="writeProject" parameterType="ProjectDto">
		INSERT INTO PROJECT_TB
		VALUES (PRO_SEQUENCE.NEXTVAL,#{user_id},#{pro_title},0,#{pro_goalmoney},#{pro_start_date},#{pro_due_date},SYSDATE,#{pro_detail},'F',#{pro_image})
	</insert>
	
	<!-- Paging : totalArticle -->
	<select id="totalArticle" resultType="int">
		SELECT COUNT(*)
		FROM PROJECT_TB
	</select>
	
	<!-- Paging : getArticlelist -->
	<select id="getArticleList" resultType="ProjectDto" parameterType="java.util.HashMap">
		SELECT P.PRO_NUM,P.USER_ID,P.PRO_TITLE,P.PRO_NOWMONEY,P.PRO_GOALMONEY,P.PRO_START_DATE,P.PRO_DUE_DATE,P.PRO_WRITE_DATE,P.PRO_DETAIL,P.PRO_SUCCESS,P.PRO_IMAGE
		FROM (SELECT ROWNUM RN,PROJECT_TB.*
        		FROM (SELECT * FROM PROJECT_TB ORDER BY PRO_NUM DESC) PROJECT_TB ) P
		WHERE RN BETWEEN #{startRow} AND #{endRow}
	</select>
	
	<select id="getProjectOne" resultType="ProjectDto" parameterType="int">
		
	</select>
	

	
</mapper>